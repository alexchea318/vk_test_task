:root{
    --mes_header_space: 15px;
    --mes_border: 1px solid rgba(121, 121, 121, 0.24);
}

#messenger{
    height: calc(100vh - 48px - 2*var(--main_gap));
    display: flex;
    flex-direction: column;
}

#mes_header{
    display: grid;
    grid-template-columns: 25% 50% 25%;
    height: 48;
    align-items: center;
    justify-content: space-between;
    box-shadow:0px 0.5px 4px -2px rgba(17, 17, 17, 0.336);
    border-top-right-radius: 5px;
    border-top-left-radius: 5px;
}

#back{
    background: url(data:image/svg+xml;charset=utf-8,%3Csvg%20height%3D%2216%22%20viewBox%3D%220%200%209%2016%22%20width%3D%229%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22m8%2015.9c-.2%200-.4-.1-.6-.3l-7-7c-.3-.3-.3-.9%200-1.2l7-7c.3-.3.9-.3%201.2%200s.3.9%200%201.2l-6.4%206.4%206.4%206.4c.3.3.3.9%200%201.2-.2.2-.4.3-.6.3z%22%20fill%3D%22%23828a99%22%20opacity%3D%22.7%22%2F%3E%3C%2Fsvg%3E) no-repeat; 
    background-position-x: var(--mes_header_space); 
    padding-left: calc(20px + var(--mes_header_space));
    color: var(--second_grey);
    font-size: 14px;
    cursor: pointer;
}

#back:hover::after{
    content: "";
    width: 150px;
    height: 48px;
    background-image:linear-gradient(to right, rgba(63, 63, 63, 0.13) 0%, rgba(0,0,0,0) 100%);
    position:absolute;
    margin-left: -76px;
    margin-top: -17px;
    border-top-left-radius: 5px;
}

#contact{
    display: flex;
    flex-direction: column;
    align-items: center;
}

#contact a{
    font-weight: 500;
    color: var(--black);
}

#mes_bar{
    display: flex;
    flex-direction:row;
    margin-left: auto;
    margin-right: 5px;
}

#status{
    color: var(--second_grey);
    font-size: 12px;
    margin-top: 4px;
}

#mes_menu{
    background: url(data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20fill%3D%22%2399A2AD%22%20d%3D%22M5%2014c1.1%200%202-.9%202-2s-.9-2-2-2-2%20.9-2%202%20.9%202%202%202zm7%200c1.1%200%202-.9%202-2s-.9-2-2-2-2%20.9-2%202%20.9%202%202%202zm7%200c1.1%200%202-.9%202-2s-.9-2-2-2-2%20.9-2%202%20.9%202%202%202z%22%2F%3E%3C%2Fsvg%3E);
    margin: 0px -10px;
}

#mes_search{
    background-image: url(data:image/svg+xml;charset=utf-8,%3Csvg%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22m20.7%2019.3-3.1-3.1c.9-1.2%201.4-2.6%201.4-4.2%200-3.9-3.1-7-7-7s-7%203.1-7%207%203.1%207%207%207c1.6%200%203-.5%204.2-1.4l3.1%203.1c.2.2.5.3.7.3s.5-.1.7-.3c.4-.4.4-1%200-1.4zm-13.7-7.3c0-2.8%202.2-5%205-5s5%202.2%205%205-2.2%205-5%205-5-2.2-5-5z%22%20fill%3D%22%2399A2AD%22%2F%3E%3C%2Fsvg%3E);
}

#mes_menu, #mes_search, #clip, #audio{
    background-position: center;
    background-repeat: no-repeat;
    height: var(--header_height);
    width: var(--header_height);
    cursor: pointer;
}

#mes_avatar{
    border-radius: 50%;
    transform: scale(0.6)
}

#mes_footer{
    border: var(--mes_border);
    border-bottom-left-radius: 5px;
    border-bottom-right-radius: 5px;
    border-left-width: 0px;
    border-right-width: 0px;
    /*box-shadow:0px -0.5px 4px -2px rgba(17,17,17,0.53);*/
    background-color: #fafbfc;
    display: flex;
    align-items: flex-end;
    /*height: 62px;*/
    justify-content: space-around;
}

#clip{
    background: url(data:image/svg+xml;charset=utf-8,%3Csvg%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22m0%200h24v24h-24z%22%2F%3E%3Cpath%20d%3D%22m20.0291094%2015.0279907-5.384726%205.2303888c-2.5877049%202.513536-6.71408829%202.4838066-9.26530792-.0667538-2.6116233-2.6109485-2.61217034-6.8446794-.00122186-9.4563027.00760974-.0076117.01523784-.015205.02288425-.0227799l8.06657363-7.99110563c1.7601202-1.7436532%204.6004898-1.73030402%206.344143.02981623.0091252.00921136.0182104.01846224.0272554.02775238%201.7500823%201.79751906%201.7306631%204.66777042-.0435807%206.44144506l-8.1308667%208.12825806c-.8479169.8476448-2.20023168.9147308-3.12787932.1551687l-.1337127-.1094846c-.8947528-.7326277-1.02618115-2.0518803-.29355343-2.9466331.03855837-.047091.0791516-.0924786.12166404-.1360332l5.46733261-5.60136864%22%20stroke%3D%22%23828a99%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.8%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E) center no-repeat;
}

#mes_form{
    border: var(--mes_border);
    /*height:36;*/
    width: var(--form_width);
    border-radius: 6px;
    background: #fff;
    display: flex;
    align-items: flex-end;
    margin: 10px 0px;
}

textarea{
    outline : none;
    border: none;
    font-family: var(--font_temp);
}

textarea::-webkit-input-placeholder { 
    font-family: var(--font_temp);
}

#audio{
    background: url(data:image/svg+xml;charset=utf-8,%3Csvg%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22m12%2023.9c-.5%200-.9-.4-.9-.9v-2.6c-4-.3-7.4-3.2-8.3-7.2-.1-.5.2-1%20.7-1.1s1%20.2%201.1.7c.7%203.4%203.8%205.8%207.2%205.8h.5c3.4%200%206.5-2.4%207.2-5.8.1-.5.6-.8%201.1-.7s.8.6.7%201.1c-.9%204-4.3%206.9-8.3%207.2v2.6c-.1.5-.5.9-1%20.9zm0-8c-2.7%200-4.9-2.2-4.9-4.9v-6c0-2.7%202.2-4.9%204.9-4.9s4.9%202.2%204.9%204.9v6c0%202.7-2.2%204.9-4.9%204.9zm0-14c-1.7%200-3.1%201.4-3.1%203.1v6c0%201.7%201.4%203.1%203.1%203.1s3.1-1.4%203.1-3.1v-6c0-1.7-1.4-3.1-3.1-3.1z%22%20fill%3D%22%23828a99%22%2F%3E%3C%2Fsvg%3E) center no-repeat;
    z-index:5;
}

#pin_picture{
    position: absolute;
    bottom:calc(var(--bottom_icon) - 5px);
    left:calc(var(--left_emoji) + 215px);;
    margin-left: auto;
    background: url(data:image/svg+xml;charset=utf-8,%3Csvg%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20fill%3D%22none%22%20stroke%3D%22%23828a99%22%20stroke-width%3D%221.7%22%3E%3Cpath%20d%3D%22m14.134%203.65c.853%200%201.46.278%201.988.899.017.019.494.61.66.815.228.281.674.536.945.536h.41c2.419%200%203.863%201.563%203.863%204.05v5.85c0%202.241-2%204.2-4.273%204.2h-11.454c-2.267%200-4.223-1.953-4.223-4.2v-5.85c0-2.496%201.4-4.05%203.814-4.05h.409c.271%200%20.717-.255.945-.536.166-.204.643-.796.66-.815.528-.621%201.135-.899%201.988-.899z%22%2F%3E%3Ccircle%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%223.85%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E) center no-repeat; 
    height: 30px;
    width: 30px;
    margin-right: 10px;
    cursor: pointer;
}

#pin_picture:hover, #audio:hover, #clip:hover{
    filter:var(--hover_filter);
}

#audio, #clip{
    margin-bottom: 5px;
    margin-left:auto;
    margin-right:auto;
}

@keyframes send_change{
    0%{
        transform: scale(1);
        background: url(data:image/svg+xml;charset=utf-8,%3Csvg%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22m12%2023.9c-.5%200-.9-.4-.9-.9v-2.6c-4-.3-7.4-3.2-8.3-7.2-.1-.5.2-1%20.7-1.1s1%20.2%201.1.7c.7%203.4%203.8%205.8%207.2%205.8h.5c3.4%200%206.5-2.4%207.2-5.8.1-.5.6-.8%201.1-.7s.8.6.7%201.1c-.9%204-4.3%206.9-8.3%207.2v2.6c-.1.5-.5.9-1%20.9zm0-8c-2.7%200-4.9-2.2-4.9-4.9v-6c0-2.7%202.2-4.9%204.9-4.9s4.9%202.2%204.9%204.9v6c0%202.7-2.2%204.9-4.9%204.9zm0-14c-1.7%200-3.1%201.4-3.1%203.1v6c0%201.7%201.4%203.1%203.1%203.1s3.1-1.4%203.1-3.1v-6c0-1.7-1.4-3.1-3.1-3.1z%22%20fill%3D%22%23828a99%22%2F%3E%3C%2Fsvg%3E) center no-repeat;
    }
    50%{
        transform: scale(0.2);
    }
    100%{
        background: url(data:image/svg+xml;charset=utf-8,%3Csvg%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22m4.7%2015.8c-.7%201.9-1.1%203.2-1.3%203.9-.6%202.4-1%202.9%201.1%201.8s12-6.7%2014.3-7.9c2.9-1.6%202.9-1.5-.2-3.2-2.3-1.4-12.2-6.8-14-7.9s-1.7-.6-1.2%201.8c.2.8.6%202.1%201.3%203.9.5%201.3%201.6%202.3%203%202.5l5.8%201.1c.1%200%20.1.1.1.1s0%20.1-.1.1l-5.8%201.1c-1.3.4-2.5%201.3-3%202.7z%22%20fill%3D%22%23828a99%22%2F%3E%3C%2Fsvg%3E) center no-repeat;
        transform: scale(1);
    }
}

#span_textarea{
    border: none;
    outline: none;
    width: 436;
    word-break: break-word;
    max-height: 160px;
    min-height: 18px;
    padding-top: 10px;
    padding-bottom: 10px;
    padding-left: 15px;
    overflow-y: auto;
    padding-right: calc(436px - 375px + 25px);
    line-height:1.3em;
    font: var(--font_temp);
    background: transparent;
}

/*Не очень элеганто, но стили при вставке убираются намного быстрее чем через js*/
#span_textarea *, #message_container p *{
    font: var(--font_temp) !important;
    background-color: transparent!important;
    color: black!important;
}

#span_textarea::-webkit-scrollbar {
    width: 5px;
    background-color:transparent;
}
  
#span_textarea::-webkit-scrollbar-thumb {
    background: #DAE2EA;
    border-radius: 5px;
}
  
#span_textarea::-webkit-scrollbar-track {
    box-shadow: none;
    background-color: transparent;
    border-radius: 5px;
}

#span_textarea[contenteditable]:empty::before {
    content: "Напишите сообщение...";
    color: rgba(128, 128, 128, 0.726);
    position: absolute;
    transform: translatey(1px);
}

#span_textarea a:hover{
    cursor: pointer;
}

#span_textarea a{
    color:var(--lightning_color) !important;
}

@media (max-width:960px){
    #span_textarea[contenteditable]:empty::before {
        content: "Сообщение";
    }

    #pin_picture{
        display: none;
    }

    #mes_form{
        margin: auto 5px;
        border: none;
        padding-right: 30px;
    }

    #span_textarea{
        padding: 10 0px;
        width:calc(var(--form_width) - 30px);
    }

    #mes_footer{
        background: #fff;
        border-bottom: none; /*!important*/
        justify-content: space-between;
    }

    #audio, #clip{
        margin: 0px 10px;
        width:22px;
        display: block;
    }

    #chat{
        max-height: calc(100vh - 62px)!important;
    }

    #span_textarea::-webkit-scrollbar{
        width: 0px;
    }

    #mes_header{
        display: flex;
        overflow: hidden;
    }

    #contact{
        display: none;
    }

    #mes_bar::before{
        content: "Александр";
        display: block;
        position: fixed;
        font-weight: 500;
        left: 0;
        transform: translateX(calc(50vw - 40px)) translateY(17px);
        color: var(--black);
    }
}